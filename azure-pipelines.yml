trigger:
  batch: true

pool:
  vmImage: windows-latest

variables:
  solution: CertUiExts.slnx
  configuration: Release

strategy:
  matrix:
    x64:
      platform: x64
    x86:
      platform: x86

steps:
- task: VSBuild@1
  inputs:
    solution: $(solution)
    platform: $(platform)
    configuration: $(configuration)
    maximumCpuCount: true

- task: PublishPipelineArtifact@1
  inputs:
    targetPath: bin/$(platform)/$(configuration)
    artifact: CertUiExts-$(build.SourceVersion)-$(platform)
    publishLocation: pipeline
